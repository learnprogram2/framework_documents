### 什么是 ElasticSearch?

分布式, 高性能, HA, scalable 的搜索和分析系统

**什么是搜索:**

1. 互联网站, 各种app里面的搜索.

2. IT系统的搜索, OA软件, 办公软件, 日程管理, 后台系统之类的搜索. 

**使用数据库搜索:**

1. 会遍历全部记录, 然后抓出来匹配. 

2. 文字匹配规则简单(like %xx%), 搜索不出同义的结果.

**什么是全文检索和Lucene:**

1. **倒排索引:**

   ```java
   1. 把每个记录拆成关键词list
   2. 把关键词拿出来, 组建索引, 索引的item指向包含关键词记录, 组成倒排索引. 搜索关键词就可以找到句子了, 不用去搜句子解析句子了.
   ```

2. **全文检索:**

   搜索关键词, 关键词是之前分析记录的倒排索引, 就是全文检索. 

3. **[Lucene](https://lucene.apache.org/):**

   是组建倒排索引和搜索的依赖框架. apache的

**EalsticSearch是什么:**

如果单台服务器不能管理的太多数据, ES就是一个封装了多台机器Lucene存储的框架. 保证了数据分发和副本.

1. 自动维护数据的分布和多个节点的索引, 还有请求的分发.
2. 维护数据副本
3. 提供了一些高级搜索的功能(聚合分析, 地理位置检索...)



### 03. ElasticSearch 介绍

**功能:**

1. 分布式: 将数据分散到Node上存储和检索. **近实时搜索.**
2. 搜索: 全文检索, 结构化搜索(比如商品分类搜索)
3. 数据分析: (例:分析每个商品分类下有多少相关商品)

**使用场景:**

1. 百科, GitHub, 代码搜索
2. 新闻网站, 论坛, 电商
3. 日志数据分析, ELK, 价格监控, BI商业分析系统. Kibana做数据可视化.

**ES特点:**

1. scalable: 可以大型分布式, 也可以单机
2. 技术整合: 圈粉检索, 数据分析, 分布式.
3. 开箱即用: 
4. 相对数据库, 搜索功能更多. 对于不需要事物(数据库强项)的, ES也挺好.



### 04. ElasticSearch 核心概念

**Lucene和ElasticSearch的前世今生:**

Lucene是现金功能强大的搜索库, 但API复杂开发难. 

ES基于lucene, 提供简单易用的API. 

**ES的核心概念:**

1. near realtime(NRT): 近实时, 有秒级的延迟. 
2. cluster: 集群, 多个节点
3. Node: 集群中一个节点, 随机分配名字. 直接启动一堆节点, 会组成一个elasticsearch集群, 新启动的节点也会去加入elasticsearch的集群.
4. document: 文档, es中最小的数据单元. 可以是一条任何的数据, 通常json格式. 每个index下的type可以存储多个ducoment.



























