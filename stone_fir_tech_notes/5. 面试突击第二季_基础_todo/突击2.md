### 02. TCP/IP四层 / OSI七层网络模型

- **ms官心理:**

  **结构化ms三个分为: 基础, 架构设计, 项目经验**

- OSI七层协议: 统一的协定:

  (应用层-表示层-会话层)-传输层-网络-数据链路层-物理层

- **TCP/IP 四层:**

  **数据链路->传输层->网络层->应用层**

  1. **物理层:** 光纤, 网线...

  2. **数据链路层:** 规定物理层传递的01信号如何分组, 描述source和target(网卡mac地址48位2进制/12个16进制). - **以太网协议:** 把电信号分组成帧(frame), 每个帧分为head和data, head是metedata: 描述和source+target和数据类型...

     网卡会把帧广播给子网里所有机器(网卡), 接收的网卡看是不是自己的.  但是怎么知道是不是一个子网的? 就需要网络层

  3. **网络层:** **IP协议,** 每个计算机都会分配一个IP地址, 32位(24位代表网络, 后8位代表主机). IP地址+子网掩码就可以确定子网和公网的界限了.

     子网掩码和IP地址做与运算, 就剩下ip前面的代表网络的部分, 这样就可以对比两个ip前代表网络部分是否相同(是否属于同一子网)

     - 两个子网交互: **路由器使用公网(大子网)的交换机和cache连接两个子网,** 在帧里面写target地址为自己的路由器mac地址. 路由器把frame要发送的ip从cache里面拿出mac地址, 修改target改成目标网卡的mac地址, 然后在自己所在的更大子网传递到能找到对方子网的交换机, 进行广播找到对方. 
     - **子网内交互: 通过交换机(使用mac)在子网内广播frame.** 
     - ARP(address resolution protocol)协议: 互联网中广播自己的mac和ip地址, 然后每个路由器都有其他机器的ip-mac地址cache.通过IP来定位mac地址. [图解ARP](https://zhuanlan.zhihu.com/p/28771785)
     - 交换机通过mac和arp实现局域网内互联, 路由器通过IP实现全网段互联.

  4. **传输层:** TCP协议, 端口间的连接规范. socke实现了tcp协议开发.

  5. **应用层:** Http/ftp/..., 解释数据.





### 03. 浏览器请求一个URL的全过程

IP: 192.168.0.2

网关: 192.168.0.1

子网掩码: 255.255.255.0

DNS: 8.8.8.8

1. **DNS服务器/DNS缓存:** 解析URL拿到对应IP. 比如是192.169.0.2
2. 通过子网掩码与运算拿到IP的网络部分, 看是否属于子网内的机器.
3. 































